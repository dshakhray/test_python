From 1e8daeaf0d92db7c54a3a203faed1a524dd2dac0 Mon Sep 17 00:00:00 2001
From: Rafael Aquini <aquini@redhat.com>
Date: Thu, 22 Sep 2016 19:44:43 -0400
Subject: [redhat] spec: bump up required linux-firmware version

Message-id: <1474573484-15115-2-git-send-email-aquini@redhat.com>
Patchwork-id: 158326
O-Subject: [RHEL7 PATCH 1/2] redhat: spec: bump up required linux-firmware version
Bugzilla:
RH-Acked-by: Ivan Vecera <ivecera@redhat.com>
RH-Acked-by: Jeremy McNicoll <jmcnicol@redhat.com>
RH-Acked-by: Prarit Bhargava <prarit@redhat.com>
RH-Acked-by: Herton R. Krzesinski <herton@redhat.com>
RH-Acked-by: Jarod Wilson <jarod@redhat.com>

Bump up the required linux-firmware version to get the latest build
(linux-firmware-20160830-49.git7534e19.el7)

Several drivers got updated for RHEL 7.3 and they now require newer
firmware files than are present in linux-firmware from 7.2
Without updating the versioned dependency users may want to try
running a RHEL 7.3 kernel with 7.2 packages and be surprised when
drivers fail to find their firmware.

This is a RHEL7-only patch, not upstream.

Brew: https://brewweb.engineering.redhat.com/brew/taskinfo?taskID=11799431
Test: https://beaker.engineering.redhat.com/jobs/1518937

Signed-off-by: Rafael Aquini <aquini@redhat.com>

diff --git a/redhat/kernel.spec.template b/redhat/kernel.spec.template
index 017c288..368bebe 100644
--- a/redhat/kernel.spec.template
+++ b/redhat/kernel.spec.template
@@ -265,7 +265,7 @@ Provides: kernel-modeset = 1\
 Provides: kernel-uname-r = %{KVRA}%{?1:.%{1}}\
 Requires(pre): %{kernel_prereq}\
 Requires(pre): %{initrd_prereq}\
-Requires(pre): linux-firmware >= 20160615-46\
+Requires(pre): linux-firmware >= 20160830-49\
 Requires(post): %{_sbindir}/new-kernel-pkg\
 Requires(post): system-release\
 Requires(preun): %{_sbindir}/new-kernel-pkg\
-- 
1.7.1
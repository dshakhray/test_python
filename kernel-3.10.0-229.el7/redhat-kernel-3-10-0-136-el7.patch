From 3da54f7e0bcf4bce128daba0024ca647ee249f3d Mon Sep 17 00:00:00 2001
From: Jarod Wilson <jarod@redhat.com>
Date: Wed, 16 Jul 2014 14:49:01 -0400
Subject: [redhat] kernel-3.10.0-136.el7

Signed-off-by: Jarod Wilson <jarod@redhat.com>

diff --git a/Makefile b/Makefile
index dd448fb..2f19bc9 100644
--- a/Makefile
+++ b/Makefile
@@ -5,7 +5,7 @@ EXTRAVERSION =
 NAME = Unicycling Gorilla
 RHEL_MAJOR = 7
 RHEL_MINOR = 0
-RHEL_RELEASE = 135
+RHEL_RELEASE = 136
 
 # *DOCUMENTATION*
 # To see a list of typical targets execute "make help"
diff --git a/redhat/Makefile.common b/redhat/Makefile.common
index 394d3ab..8307d71 100644
--- a/redhat/Makefile.common
+++ b/redhat/Makefile.common
@@ -9,7 +9,7 @@ RPMVERSION:=3.10.0
 # marker is git tag which we base off of for exporting patches
 MARKER:=v3.10
 PREBUILD:=
-BUILD:=135
+BUILD:=136
 DIST:=.el7
 SPECFILE:=kernel.spec
 RPM:=$(REDHAT)/rpm
diff --git a/redhat/kernel.spec.template b/redhat/kernel.spec.template
index 4d20afa..4af4a10 100644
--- a/redhat/kernel.spec.template
+++ b/redhat/kernel.spec.template
@@ -1471,6 +1471,206 @@ fi
 
 %changelog
 %%CHANGELOG%%
+* Wed Jul 16 2014 Jarod Wilson <jarod@redhat.com> [3.10.0-136.el7]
+- [block] mtip32xx: minor performance enhancements (Mike Snitzer) [1105703]
+- [block] mtip32xx: let blk_mq_tag_to_rq() take blk_mq_tags as the main parameter (Mike Snitzer) [1105703]
+- [block] mtip32xx: move error handling to service thread (Mike Snitzer) [1105703]
+- [block] mtip32xx: stop block hardware queues before quiescing IO (Mike Snitzer) [1105703]
+- [block] mtip32xx: blk_mq_init_queue() returns an ERR_PTR (Mike Snitzer) [1105703]
+- [block] mtip32xx: convert to use blk-mq (Mike Snitzer) [1105703]
+- [block] mtip32xx: Fix ERO and NoSnoop values in PCIe upstream on AMD systems (Mike Snitzer) [1105703]
+- [block] mtip32xx: Remove dfs_parent after pci unregister (Mike Snitzer) [1105703]
+- [block] mtip32xx: Increase timeout for STANDBY IMMEDIATE command (Mike Snitzer) [1105703]
+- [block] mtip32xx: Set queue bounce limit (Mike Snitzer) [1105703]
+- [block] mtip32xx: Use pci_enable_msi() instead of pci_enable_msi_range() (Mike Snitzer) [1105703]
+- [block] mtip32xx: fix bad use of smp_processor_id() (Mike Snitzer) [1105703]
+- [block] mtip32xx: Use pci_enable_msix_range() instead of pci_enable_msix() (Mike Snitzer) [1105703]
+- [block] mtip32xx: Remove superfluous call to pci_disable_msi() (Mike Snitzer) [1105703]
+- [block] mtip32xx: Reduce the number of unaligned writes to 2 (Mike Snitzer) [1105703]
+- [block] mtip32xx: Correctly handle security locked condition (Mike Snitzer) [1105703]
+- [block] mtip32xx: Make SGL container per-command to eliminate high order dma allocation (Mike Snitzer) [1105703]
+- [block] mtip32xx: dynamically allocate buffer in debugfs functions (Mike Snitzer) [1105703]
+- [block] blk-mq: fix RHEL kABI breakage (Mike Snitzer) [1105204]
+- [block] blk-mq: blk_mq_start_hw_queue() should use blk_mq_run_hw_queue() (Mike Snitzer) [1105204]
+- [block] add support for limiting gaps in SG lists (Mike Snitzer) [1105204]
+- [block] blk-mq: bitmap tag, fix races in bt_get() function (Mike Snitzer) [1105204]
+- [block] blk-mq: bitmap tag, fix race on blk_mq_bitmap_tags::wake_cnt (Mike Snitzer) [1105204]
+- [block] blk-mq: bitmap tag, fix races on shared ::wake_index fields (Mike Snitzer) [1105204]
+- [block] blk_max_size_offset() should check ->max_sectors (Mike Snitzer) [1105204]
+- [block] null_blk: fix softirq completions for queue_mode == 1 (Mike Snitzer) [1105204]
+- [block] blk-mq: merge blk_mq_drain_queue and __blk_mq_drain_queue (Mike Snitzer) [1105204]
+- [block] blk-mq: properly drain stopped queues (Mike Snitzer) [1105204]
+- [block] blk-mq: for_each_* macro correctness (Mike Snitzer) [1105204]
+- [scsi] reintroduce scsi_driver.init_command (Mike Snitzer) [1105204]
+- [scsi] remove scsi_end_request (Mike Snitzer) [1105204]
+- [scsi] explicitly release bidi buffers (Mike Snitzer) [1105204]
+- [scsi] don't reference freed command in scsi_prep_return (Mike Snitzer) [1105204]
+- [scsi] don't reference freed command in scsi_init_sgtable (Mike Snitzer) [1105204]
+- [scsi] add support for per-host cmd pools (Mike Snitzer) [1105204]
+- [scsi] simplify command allocation and freeing a bit (Mike Snitzer) [1105204]
+- [scsi] megaraid: simplify internal command handling (Mike Snitzer) [1105204]
+- [scsi] remove a useless get_put_device pair in scsi_requeue_command (Mike Snitzer) [1105204]
+- [scsi] remove a useless get_put_device pair in scsi_next_command (Mike Snitzer) [1105204]
+- [scsi] remove a useless get_put_device pair in scsi_request_fn (Mike Snitzer) [1105204]
+- [scsi] do not manipulate device reference counts in scsi_get_put_command (Mike Snitzer) [1105204]
+- [scsi] avoid taking host_lock in scsi_run_queue unless nessecary (Mike Snitzer) [1105204]
+- [scsi] avoid useless free_list lock roundtrips (Mike Snitzer) [1105204]
+- [scsi] enable destruction of blocked devices which fail LUN scanning (Mike Snitzer) [1105204]
+- [block] implement an unprep function corresponding directly to prep (Mike Snitzer) [1105204]
+- [scsi] handle command allocation failure in scsi_reset_provider (Mike Snitzer) [1105204]
+- [block] properly stack underlying max_segment_size to DM device (Mike Snitzer) [1105204]
+- [block] remove elv_abort_queue and blk_abort_flushes (Mike Snitzer) [1105204]
+- [block] __elv_next_request() shouldn't call into the elevator if bypassing (Mike Snitzer) [1105204]
+- [block] trace all devices plug operation (Mike Snitzer) [1105204]
+- [block] Reserve only one queue tag for sync IO if only 3 tags are available (Mike Snitzer) [1105204]
+- [block] blk-exec: Cleaning up local variable address returned (Mike Snitzer) [1105204]
+- [block] use __blk_end_request_all to free bios and also call rq->end_io (Mike Snitzer) [1105204]
+- [block] fix RHEL kABI breakage (Mike Snitzer) [1105204]
+- [block] null_blk: fix name and description of 'queue_mode' module parameter (Mike Snitzer) [1105204]
+- [block] all blk-mq requests are tagged (Mike Snitzer) [1105204]
+- [block] bsg: update check for rq based driver for blk-mq (Mike Snitzer) [1105204]
+- [block] blk-mq: add timer in blk_mq_start_request (Mike Snitzer) [1105204]
+- [block] blk-mq: always initialize request->start_time (Mike Snitzer) [1105204]
+- [block] blk-mq: ->timeout should be cleared in blk_mq_rq_ctx_init() (Mike Snitzer) [1105204]
+- [block] blk-mq: don't allow queue entering for a dying queue (Mike Snitzer) [1105204]
+- [block] blk-mq: bump max tag depth to 10K tags (Mike Snitzer) [1105204]
+- [block] add blk_rq_set_block_pc() (Mike Snitzer) [1105204]
+- [block] ensure that bio_add_page() always accepts a page for an empty bio (Mike Snitzer) [1105204]
+- [block] add notion of a chunk size for request merging (Mike Snitzer) [1105204]
+- [block] blk-flush: clear flush_rq's tag in flush_end_io() (Mike Snitzer) [1105204]
+- [block] blk-mq: let blk_mq_tag_to_rq() take blk_mq_tags as the main parameter (Mike Snitzer) [1105204]
+- [block] blk-mq: fix regression from commit 624dbe475416 (Mike Snitzer) [1105204]
+- [block] blk-mq: handle NULL req return from blk_map_request in single queue mode (Mike Snitzer) [1105204]
+- [block] blk-mq: fix sparse warning on missed __percpu annotation (Mike Snitzer) [1105204]
+- [block] blk-mq: fix schedule from atomic context (Mike Snitzer) [1105204]
+- [block] blk-mq: move blk_mq_get_ctx_blk_mq_put_ctx to mq private header (Mike Snitzer) [1105204]
+- [block] blk-mq: push IPI or local end_io decision to __blk_mq_complete_request() (Mike Snitzer) [1105204]
+- [block] blk-mq: remember to start timeout handler for direct queue (Mike Snitzer) [1105204]
+- [block] blk-mq: blk_mq_unregister_hctx() can be static (Mike Snitzer) [1105204]
+- [block] blk-mq: make the sysfs mq/ layout reflect current mappings (Mike Snitzer) [1105204]
+- [block] blk-mq: blk_mq_tag_to_rq should handle flush request (Mike Snitzer) [1105204]
+- [block] blk-mq: request initialization optimizations (Mike Snitzer) [1105204]
+- [block] add queue flag for disabling SG merging (Mike Snitzer) [1105204]
+- [block] blk-mq: remove alloc_hctx and free_hctx methods (Mike Snitzer) [1105204]
+- [block] blk-mq: add file comments and update copyright notices (Mike Snitzer) [1105204]
+- [block] blk-mq: remove blk_mq_alloc_request_pinned (Mike Snitzer) [1105204]
+- [block] blk-mq: do not use blk_mq_alloc_request_pinned in blk_mq_map_request (Mike Snitzer) [1105204]
+- [block] blk-mq: remove blk_mq_wait_for_tags (Mike Snitzer) [1105204]
+- [block] blk-mq: initialize request in __blk_mq_alloc_request (Mike Snitzer) [1105204]
+- [block] blk-mq: merge blk_mq_alloc_reserved_request into blk_mq_alloc_request (Mike Snitzer) [1105204]
+- [block] blk-mq: add helper to insert requests from irq context (Mike Snitzer) [1105204]
+- [block] blk-mq: remove stale comment for blk_mq_complete_request() (Mike Snitzer) [1105204]
+- [block] blk-mq: allow non-softirq completions (Mike Snitzer) [1105204]
+- [block] blk-mq: pass in suggested NUMA node to ->alloc_hctx() (Mike Snitzer) [1105204]
+- [block] only allocate/free mq_usage_counter in blk-mq (Mike Snitzer) [1105204]
+- [block] blk-mq: avoid code duplication (Mike Snitzer) [1105204]
+- [block] blk-mq: fix leak of hctx->ctx_map (Mike Snitzer) [1105204]
+- [block] blk-mq: idle all hardware contexts before freeing a queue (Mike Snitzer) [1105204]
+- [block] blk-mq: allow setting of per-request timeouts (Mike Snitzer) [1105204]
+- [block] blk-mq: export blk_mq_tag_busy_iter (Mike Snitzer) [1105204]
+- [block] blk-mq: split make request handler for multi and single queue (Mike Snitzer) [1105204]
+- [block] blk-mq: save memory by freeing requests on unused hardware queues (Mike Snitzer) [1105204]
+- [block] blk-mq: allow the hctx cpu hotplug notifier to return errors (Mike Snitzer) [1105204]
+- [block] blk-mq: Micro-optimize blk_queue_nomerges() check (Mike Snitzer) [1105204]
+- [block] Enable sysfs nomerge control for I/O requests in the plug list (Mike Snitzer) [1105204]
+- [block] blk-mq: initialize q->nr_requests after calling blk_queue_make_request() (Mike Snitzer) [1105204]
+- [block] blk-mq: allow changing of queue depth through sysfs (Mike Snitzer) [1105204]
+- [block] blk-mq: switch ctx pending map to the sparser blk_align_bitmap (Mike Snitzer) [1105204]
+- [block] blk-mq: move the cache friendly bitmap type of out blk-mq-tag (Mike Snitzer) [1105204]
+- [block] blk-mq: improve support for shared tags maps (Mike Snitzer) [1105204]
+- [block] blk-mq: cleanup blk_mq_init_tags (Mike Snitzer) [1105204]
+- [block] blk-mq: select random tag betweet 0 and (depth - 1) (Mike Snitzer) [1105204]
+- [block] blk-mq: remove barrier in bt_clear_tag() (Mike Snitzer) [1105204]
+- [block] blk-mq: use clear_bit_unlock in bt_clear_tag() (Mike Snitzer) [1105204]
+- [block] blk-mq: fix race in IO start accounting (Mike Snitzer) [1105204]
+- [block] blk-mq: use sparser tag layout for lower queue depth (Mike Snitzer) [1105204]
+- [block] blk-mq: implement new and more efficient tagging scheme (Mike Snitzer) [1105204]
+- [block] blk-mq: initialize struct request fields individually (Mike Snitzer) [1105204]
+- [block] blk-mq: update a hotplug comment for grammar (Mike Snitzer) [1105204]
+- [block] blk-mq: add basic round-robin of what CPU to queue workqueue work on (Mike Snitzer) [1105204]
+- [block] blk-mq: remove extra requeue trace (Mike Snitzer) [1105204]
+- [block] null_blk: fix use after free (Mike Snitzer) [1105204]
+- [block] blk-mq: refactor request insertion_merging (Mike Snitzer) [1105204]
+- [block] blk-mq: remove debug BUG_ON() when draining software queues (Mike Snitzer) [1105204]
+- [block] blk-mq: fix waiting for reserved tags (Mike Snitzer) [1105204]
+- [block] ensure that the timer is always added (Mike Snitzer) [1105204]
+- [block] fold __blk_add_timer into blk_add_timer (Mike Snitzer) [1105204]
+- [block] blk-mq: respect rq_affinity (Mike Snitzer) [1105204]
+- [block] blk-mq: fix race with timeouts and requeue events (Mike Snitzer) [1105204]
+- [block] blk-mq: fix leak of set->tags (Mike Snitzer) [1105204]
+- [block] blk-mq: initialize req->q in allocation (Mike Snitzer) [1105204]
+- [block] blk-mq: user (1 << order) to implement order_to_size() (Mike Snitzer) [1105204]
+- [block] blk-mq: fix allocation of set->tags (Mike Snitzer) [1105204]
+- [block] blk-mq: free hctx->ctx_map when init failed (Mike Snitzer) [1105204]
+- [block] export blk_finish_request (Mike Snitzer) [1105204]
+- [block] blk-mq: rename mq_flush_work struct request member (Mike Snitzer) [1105204]
+- [block] blk-mq: add blk_mq_requeue_request (Mike Snitzer) [1105204]
+- [block] blk-mq: add blk_mq_start_hw_queues (Mike Snitzer) [1105204]
+- [block] blk-mq: add blk_mq_delay_queue (Mike Snitzer) [1105204]
+- [block] blk-mq: add async parameter to blk_mq_start_stopped_hw_queues (Mike Snitzer) [1105204]
+- [block] blk-mq: bidi support (Mike Snitzer) [1105204]
+- [block] blk-mq: allow drivers to hook into I_O completion (Mike Snitzer) [1105204]
+- [block] blk-mq: kill preempt disable_enable in blk_mq_work_fn() (Mike Snitzer) [1105204]
+- [block] blk-mq: don't use preempt_count() to check for right CPU (Mike Snitzer) [1105204]
+- [block] blk-mq: split out tag initialization, support shared tags (Mike Snitzer) [1105204]
+- [block] blk-mq: initialize request on allocation (Mike Snitzer) [1105204]
+- [block] blk-mq: add ->init_request and ->exit_request methods (Mike Snitzer) [1105204]
+- [block] blk-mq: make ->flush_rq fully transparent to drivers (Mike Snitzer) [1105204]
+- [block] blk-mq: do not initialize req->special (Mike Snitzer) [1105204]
+- [block] blk-mq: initialize resid_len (Mike Snitzer) [1105204]
+- [block] blk-mq: simplify blk_mq_hw_sysfs_cpus_show() (Mike Snitzer) [1105204]
+- [block] blk-mq: ensure that hardware queues are always run on the mapped CPUs (Mike Snitzer) [1105204]
+- [block] add kblockd_schedule_delayed_work_on() (Mike Snitzer) [1105204]
+- [block] remove 'q' parameter from kblockd_schedule_*_work() (Mike Snitzer) [1105204]
+- [block] blk-mq: fix potential stall during CPU unplug with IO pending (Mike Snitzer) [1105204]
+- [block] remove dead code in scsi_ioctl:blk_verify_command (Mike Snitzer) [1105204]
+- [block] only calculate part_in_flight() once (Mike Snitzer) [1105204]
+- [block] relax when to modify the timeout timer (Mike Snitzer) [1105204]
+- [char] random: export add_disk_randomness (Mike Snitzer) [1105204]
+- [block] blk-mq: add REQ_SYNC early (Mike Snitzer) [1105204]
+- [block] blk-mq: Make blk_mq_cpu_notify_lock a raw spinlock (Mike Snitzer) [1105204]
+- [block] blk-mq: don't dump CPU -> hw queue map on driver load (Mike Snitzer) [1105204]
+- [block] blk-mq: fix wrong usage of hctx->state vs hctx->flags (Mike Snitzer) [1105204]
+- [block] blk-mq: allow blk_mq_init_commands() to return failure (Mike Snitzer) [1105204]
+- [block] fix regression with block enabled tagging (Mike Snitzer) [1105204]
+- [block] Stop abusing rq->csd.list in blk-softirq (Mike Snitzer) [1105204]
+- [scsi] Make sure cmd_flags are 64-bit (Mike Snitzer) [1109271]
+- [block] Replace __get_cpu_var uses (Mike Snitzer) [1105204]
+- [block] Remove useless IPI struct initialization (Mike Snitzer) [1105204]
+- [block] Stop abusing csd.list for fifo_time (Mike Snitzer) [1105204]
+- [block] blktrace: fix accounting of partially completed requests (Mike Snitzer) [1105204]
+- [fs] bio: don't write "bio: create slab" messages to syslog (Mike Snitzer) [1105204]
+- [block] make __blkdev_issue_zeroout static (Mike Snitzer) [1105204]
+- [block] Do not call sector_div() with a 64-bit divisor (Mike Snitzer) [1105204]
+- [block] add cond_resched() to potentially long running ioctl discard loop (Mike Snitzer) [1105204]
+- [kernel] smp: Rename __smp_call_function_single() to smp_call_function_single_async() (Prarit Bhargava) [1105192]
+- [kernel] smp: Remove wait argument from __smp_call_function_single() (Prarit Bhargava) [1105192]
+- [kernel] smp: Move __smp_call_function_single() below its safe version (Prarit Bhargava) [1105192]
+- [kernel] smp: Consolidate the various smp_call_function_single() declensions (Prarit Bhargava) [1105192]
+- [kernel] smp: Teach __smp_call_function_single() to check for offline cpus (Prarit Bhargava) [1105192]
+- [kernel] smp: Iterate functions through llist_for_each_entry_safe() (Prarit Bhargava) [1105192]
+- [kernel] llist: lock-less list, Add llist_for_each_entry_safe() (Prarit Bhargava) [1105192]
+- [kernel] smp: remove cpumask_ipi (Prarit Bhargava) [1105192]
+- [kernel] smp: use lockless list for smp_call_function_single (Prarit Bhargava) [1105192]
+- [kernel] smp: fix generic_exec_single indentation (Prarit Bhargava) [1105192]
+- [kernel] smp: quit unconditionally enabling irqs in on_each_cpu_mask() (Prarit Bhargava) [1105192]
+- [kernel] smp: free related resources when failure occurs in hotplug_cfd() (Prarit Bhargava) [1105192]
+- [kernel] smp/generic-ipi/locking: Fix misleading smp_call_function_any() description (Prarit Bhargava) [1105192]
+- [kernel] smp/generic-ipi: Kill unnecessary variable - csd_flags (Prarit Bhargava) [1105192]
+- [kernel] init: remove __cpuinit sections from the kernel (Prarit Bhargava) [1105893]
+- [block] blk-mq: remove newly added instances of __cpuinit (Prarit Bhargava) [1105893]
+- [misc] delete __cpuinit usage from all remaining drivers files (Prarit Bhargava) [1105893]
+- [kernel] delete __cpuinit usage from all core kernel files (Prarit Bhargava) [1105893]
+- [block] delete __cpuinit usage from all block files (Prarit Bhargava) [1105893]
+- [acpi] delete __cpuinit usage from all acpi files (Prarit Bhargava) [1105893]
+- [kernel] rcu: delete __cpuinit usage from all rcu files (Prarit Bhargava) [1105893]
+- [net] delete __cpuinit usage from all net files (Prarit Bhargava) [1105893]
+- [hwmon] delete __cpuinit usage from all hwmon files (Prarit Bhargava) [1105893]
+- [clocksource] delete __cpuinit usage from all related files (Prarit Bhargava) [1105893]
+- [x86] delete __cpuinit usage from all x86 files (Prarit Bhargava) [1105893]
+- [s390] delete __cpuinit usage from all s390 files (Prarit Bhargava) [1105893]
+- [powerpc] Delete __cpuinit usage from all users (Prarit Bhargava) [1105893]
+
 * Wed Jul 16 2014 Jarod Wilson <jarod@redhat.com> [3.10.0-135.el7]
 - [pci] hotplug: Avoid warning when _ADR not present (Myron Stowe) [1114228]
 - [pci] hotplug/acpi: Drop unused acpiphp_debug declaration (Myron Stowe) [1114228]
-- 
1.7.1